(function(t){function e(e){for(var o,n,c=e[0],s=e[1],l=e[2],d=0,v=[];d<c.length;d++)n=c[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&v.push(r[n][0]),r[n]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);u&&u(e);while(v.length)v.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,c=1;c<a.length;c++){var s=a[c];0!==r[s]&&(o=!1)}o&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},r={app:0},i=[];function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"03e4":function(t,e,a){"use strict";a("efe4")},"0d20":function(t,e,a){"use strict";a("7878")},"14e8":function(t,e,a){},"158b":function(t,e,a){},"1a43":function(t,e,a){},"1d02":function(t,e,a){"use strict";a("800b")},"221b":function(t,e,a){},"3ba5":function(t,e,a){},"4c05":function(t,e,a){"use strict";a("1a43")},"521e":function(t,e,a){"use strict";a("158b")},5641:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[[a("v-list-item",{attrs:{to:"/homepage"}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-home")])],1),a("v-list-item-title",[t._v(" Inicio ")])],1)],[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v(" Soy conductor ")])],1)],1),a("v-list-item",{attrs:{to:"/historialpasajero"}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-domain")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Historial rutas ")])],1)],1)],1)],[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v(" Soy pasajero ")])],1)],1),a("v-list-item",{attrs:{to:"/historialpasajero"}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-domain")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Historial rutas ")])],1)],1)],1)],[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v(" Ayuda ")])],1)],1),a("v-list-item",{attrs:{to:"/venta"}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-domain")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Preguntas Frecuentes ")])],1)],1),a("v-list-item",{attrs:{to:"/cliente"}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-domain")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Ayuda personalizada ")])],1)],1)],1)]],2)],1),a("v-app-bar",{attrs:{app:"",color:"black darken-3",dark:""}},[a("v-toolbar-title",[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("span",{staticClass:"hidden-sm-and-down"},[t._v("Uberclone")])],1),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.exit()}}},[a("v-icon",[t._v("mdi-export")]),t._v(" Salir ")],1)],1),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-main",[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1)],1)],1)},i=[],n={name:"App",data:function(){return{drawer:0}},methods:{exit:function(){this.$router.push("login")}}},c=n,s=(a("034f"),a("2877")),l=a("6544"),u=a.n(l),d=a("7496"),v=a("40dc"),f=a("5bc1"),h=a("8336"),p=a("a523"),m=a("a75b"),b=a("132d"),x=a("8860"),g=a("56b0"),_=a("da13"),V=a("1800"),j=a("5d23"),k=a("f6c4"),C=a("f774"),T=a("0789"),y=a("2fa4"),$=a("2a7f"),S=Object(s["a"])(c,r,i,!1,null,null,null),O=S.exports;u()(S,{VApp:d["a"],VAppBar:v["a"],VAppBarNavIcon:f["a"],VBtn:h["a"],VContainer:p["a"],VContent:m["a"],VIcon:b["a"],VList:x["a"],VListGroup:g["a"],VListItem:_["a"],VListItemAction:V["a"],VListItemContent:j["a"],VListItemTitle:j["b"],VMain:k["a"],VNavigationDrawer:C["a"],VSlideYTransition:T["d"],VSpacer:y["a"],VToolbarTitle:$["a"]});var P=a("f309");o["a"].use(P["a"]);var I=new P["a"]({}),D=a("2f62"),w=a("8c4f"),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"black darken-3"}},[a("v-toolbar-title",[t._v(" Acceso al Sistema ")])],1),a("v-card-text",[a("v-text-field",{attrs:{autofocus:"",color:"accent",label:"Email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{type:"password",color:"accent",label:"Password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.errorM)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.login()}}},[t._v("Ingresar")])],1),a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.registro()}}},[t._v("Registrarme")])],1)],1)],1)],1)],1)},U=[],L=a("bc3a"),z=a.n(L),M={name:"Login",props:{},data:function(){return{email:"",password:""}},methods:{login:function(){var t=this,e={correo:this.email,contrasena:this.password};z()({url:"usuarioaplicacion/login",data:e,method:"POST"}).then((function(e){if(200===e.status){var a=e.data.token;t.$store.dispatch("guardarToken",e.data),localStorage.setItem("user-token",a),console.log(t.$store.state.token),console.log(t.$store.state.theUser),t.$router.push("/pasajerosolicitarviaje")}})).catch((function(t){console.log(t),localStorage.removeItem("user-token")}))},registro:function(){this.$router.push("/registro")}},mounted:function(){this.$nextTick((function(){var t=this,e=localStorage.getItem("user-token");z()({url:"usuario/token",method:"POST",headers:{"Content-Type":"application/json",token:e,frontend:1}}).then((function(e){200===e.status&&t.$router.push("/homepage")})).catch((function(t){console.log(t),localStorage.removeItem("user-token")}))}))}},R=M,E=(a("1d02"),a("b0af")),H=a("99d9"),A=a("0e8f"),q=a("a722"),B=a("8654"),N=a("71d9"),J=Object(s["a"])(R,F,U,!1,null,"8c2efc84",null),G=J.exports;u()(J,{VBtn:h["a"],VCard:E["a"],VCardActions:H["a"],VCardText:H["b"],VFlex:A["a"],VLayout:q["a"],VTextField:B["a"],VToolbar:N["a"],VToolbarTitle:$["a"]});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"black darken-3"}},[a("v-toolbar-title",[t._v(" Registro ")])],1),a("v-card-text",[a("v-text-field",{attrs:{autofocus:"",color:"accent",label:"Nombre",required:""},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),a("v-text-field",{attrs:{color:"accent",label:"Email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{type:"password",color:"accent",label:"Password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{type:"number",color:"accent",label:"Teléfono",required:""},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}}),a("v-text-field",{attrs:{color:"accent",label:"Número documento",required:""},model:{value:t.numeroDocumentoIdentidad,callback:function(e){t.numeroDocumentoIdentidad=e},expression:"numeroDocumentoIdentidad"}}),a("v-text-field",{attrs:{color:"accent",label:"ID licencia conducción",required:""},model:{value:t.idLicenciaConduccion,callback:function(e){t.idLicenciaConduccion=e},expression:"idLicenciaConduccion"}}),a("v-text-field",{attrs:{color:"accent",label:"SOAT",required:""},model:{value:t.soat,callback:function(e){t.soat=e},expression:"soat"}}),a("v-text-field",{attrs:{color:"accent",label:"Modelo vehículo",required:""},model:{value:t.modeloVehiculo,callback:function(e){t.modeloVehiculo=e},expression:"modeloVehiculo"}}),a("v-text-field",{attrs:{color:"accent",label:"Placa vehículo",required:""},model:{value:t.placaVehiculo,callback:function(e){t.placaVehiculo=e},expression:"placaVehiculo"}}),a("v-text-field",{attrs:{color:"accent",label:"Color vehículo",required:""},model:{value:t.colorVehiculo,callback:function(e){t.colorVehiculo=e},expression:"colorVehiculo"}}),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.errorM)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.registro()}}},[t._v("Registrarme")])],1)],1)],1)],1)],1)},K=[],Q={name:"Registro",props:{},data:function(){return{nombre:"",email:"",password:"",telefono:"",numeroDocumentoIdentidad:"",idLicenciaConduccion:"",soat:"",modeloVehiculo:"",placaVehiculo:"",colorVehiculo:""}},methods:{registro:function(){var t=this,e={nombre:this.nombre,correo:this.email,contrasena:this.password,telefono:this.telefono,numeroDocumentoIdentidad:this.numeroDocumentoIdentidad,idLicenciaConduccion:this.idLicenciaConduccion,soat:this.soat,modeloVehiculo:this.modeloVehiculo,placaVehiculo:this.placaVehiculo,colorVehiculo:this.colorVehiculo};z()({url:"usuarioaplicacion/registro",data:e,method:"POST"}).then((function(){t.$router.push("/login")})).catch((function(t){console.log(t)}))}}},W=Q,X=(a("b022"),Object(s["a"])(W,Y,K,!1,null,"37da1bc0",null)),Z=X.exports;u()(X,{VBtn:h["a"],VCard:E["a"],VCardActions:H["a"],VCardText:H["b"],VFlex:A["a"],VLayout:q["a"],VTextField:B["a"],VToolbar:N["a"],VToolbarTitle:$["a"]});var tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"black darken-3"}},[a("v-toolbar-title",[t._v(" Solicitar viaje ")])],1),a("v-card-text",[a("v-text-field",{attrs:{autofocus:"",color:"accent",label:"Lugar origen",required:""},model:{value:t.lugarOrigen,callback:function(e){t.lugarOrigen=e},expression:"lugarOrigen"}}),a("v-text-field",{attrs:{type:"text",color:"accent",label:"Lugar destino",required:""},model:{value:t.lugarDestino,callback:function(e){t.lugarDestino=e},expression:"lugarDestino"}}),a("v-text-field",{attrs:{type:"text",color:"accent",label:"Dinero a ofertar",required:""},model:{value:t.dineroPagado,callback:function(e){t.dineroPagado=e},expression:"dineroPagado"}}),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.errorM)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.solicitar()}}},[t._v("Solicitar")])],1),a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.soyConductor()}}},[t._v("Soy conductor")])],1)],1)],1)],1)],1)},et=[],at={name:"pasajeroSolicitarViaje",props:{},data:function(){return{lugarOrigen:"",lugarDestino:"",dineroPagado:"",theUser:""}},methods:{solicitar:function(){var t=this,e={lugarOrigen:this.lugarOrigen,lugarDestino:this.lugarDestino,dineroPagado:this.dineroPagado,idPasajero:this.$store.state.theUser};z()({url:"historialruta/nuevaruta",data:e,method:"POST"}).then((function(e){200===e.status&&(console.log(e.data),t.$store.dispatch("guardarIdHistorial",e.data.historial._id),console.log("imprimiendo id historial"),console.log(t.$store.state.idHistorial),t.$router.push("/buscarconductor"))})).catch((function(t){console.log(t)}))},soyConductor:function(){this.$router.push("/buscarpasajero")}},mounted:function(){}},ot=at,rt=(a("f778"),Object(s["a"])(ot,tt,et,!1,null,"9398c9c4",null)),it=rt.exports;u()(rt,{VBtn:h["a"],VCard:E["a"],VCardActions:H["a"],VCardText:H["b"],VFlex:A["a"],VLayout:q["a"],VTextField:B["a"],VToolbar:N["a"],VToolbarTitle:$["a"]});var nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[0===t.mostrar?a("div",[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"black darken-3"}},[a("v-toolbar-title",[t._v(" Solicitar viaje ")])],1),a("v-card-text",[a("h1",[t._v(t._s(t.conductor))]),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.errorM)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.cancelarViaje()}}},[t._v("Cancelar viaje")])],1)],1)],1)],1):a("div",[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"black darken-3"}},[a("v-toolbar-title",[t._v(" Solicitar viaje ")])],1),a("v-card-text",[a("h1",[t._v("Datos conductor")]),a("h2",[t._v("Nombre conductor: "+t._s(t.historialRefrescar.idConductor.nombre))]),a("h2",[t._v("Teléfono: "+t._s(t.historialRefrescar.idConductor.telefono))]),a("h2",[t._v("Modelo vehículo: "+t._s(t.historialRefrescar.idConductor.modeloVehiculo))]),a("h2",[t._v("Placas: "+t._s(t.historialRefrescar.idConductor.placaVehiculo))]),a("h2",[t._v("ID conducción: "+t._s(t.historialRefrescar.idConductor.idLicenciaConduccion))]),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.errorM)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.cancelarViaje()}}},[t._v("Cancelar viaje")])],1),a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.viajeFinalizado()}}},[t._v("Viaje finalizado")])],1)],1)],1)],1)])],1)},ct=[],st={name:"pasajeroViaje",props:{},data:function(){return{conductor:"Esperando conductor...",theUser:"",historialRefrescar:[],mostrar:0,timer:null,recarga:1}},methods:{refrescar:function(){var t=this;z()({url:"historialruta/buscarconductor/"+this.$store.state.idHistorial,method:"POST"}).then((function(e){t.historialRefrescar=e.data.historial[0],t.mostrar=1,console.log(t.historialRefrescar),t.historialRefrescar&&(t.$router.push("/pasajeroenviaje"),t.recarga=0)})).catch((function(t){console.log(t)}))},viajeFinalizado:function(){this.$router.push("pasajero/viajefinalizado")},cancelarViaje:function(){this.$router.push("pasajero/viajecancelado")}},mounted:function(){var t=this;this.timer=setInterval((function(){1==t.recarga&&t.refrescar()}),4e3)},beforeDestroy:function(){clearInterval(this.timer)}},lt=st,ut=(a("cdcb"),Object(s["a"])(lt,nt,ct,!1,null,"2e6fbaf5",null)),dt=ut.exports;u()(ut,{VBtn:h["a"],VCard:E["a"],VCardActions:H["a"],VCardText:H["b"],VFlex:A["a"],VLayout:q["a"],VToolbar:N["a"],VToolbarTitle:$["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Nombre")]),a("th",{staticClass:"text-left"},[t._v("Direccion origen")]),a("th",{staticClass:"text-left"},[t._v("Direccion destino")]),a("th",{staticClass:"text-left"},[t._v("Dinero ofertado")])])]),a("tbody",t._l(t.pasajerosDisponibles,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.idPasajero.nombre))]),a("td",[t._v(t._s(e.lugarOrigen))]),a("td",[t._v(t._s(e.lugarDestino))]),a("td",[t._v(t._s(e.dineroPagado))]),a("v-btn",{on:{click:function(a){return t.aceptarViajeidConductor(e._id)}}},[t._v("Aceptar")])],1)})),0)]},proxy:!0}])})},ft=[],ht=(a("4de4"),a("caad"),a("2532"),{name:"pasajeroViaje",props:{},data:function(){return{conductor:"Esperando lista pasajeros...",theUser:"",pasajerosDisponibles:[],timer:null,recarga:1}},computed:{filteredStudents:function(){var t=this;return this.uStudents.filter((function(e){var a=t.filter.toUpperCase(),o=String(e.student_id).includes(a),r=e.student_name.toUpperCase().includes(a);return o||r}))}},created:function(){this.initialize()},methods:{aceptarViajeidConductor:function(t){var e=this;console.log("Imprimiendo id usuario"),console.log(this.$store.state.theUser);var a={idConductor:this.$store.state.theUser,historialId:t};z()({url:"/historialruta/conductoraceptaviaje",data:a,method:"POST"}).then((function(t){console.log(t.data),e.$store.dispatch("guardarIdHistorial",t.data.historialListo._id),e.$router.push("/conductorenviaje")})).catch((function(t){console.log(t)}))},getUnassignedStudents:function(){var t=this;z.a.get("/api/internship/unassignedStudents/".concat(this.$route.params.id)).then((function(e){return t.uStudents=e.data}))},initialize:function(){var t=this;this.pasajerosDisponibles=[],z()({url:"/historialruta/buscarpasajero",method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data.historial),t.pasajerosDisponibles=e.data.historial,console.log("Imprimiendo"+t.pasajerosDisponibles)})).catch((function(t){console.log(t)}))},viajeFinalizado:function(){this.$router.push("conductor/viajefinalizado")},cancelarViaje:function(){this.$router.push("conductor/viajecancelado")}},mounted:function(){var t=this;this.timer=setInterval((function(){1==t.recarga&&t.initialize()}),15e3)},beforeDestroy:function(){clearInterval(this.timer)}}),pt=ht,mt=(a("8647"),a("1f4f")),bt=Object(s["a"])(pt,vt,ft,!1,null,"1ca68b4c",null),xt=bt.exports;u()(bt,{VBtn:h["a"],VSimpleTable:mt["a"]});var gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"black darken-3"}},[a("v-toolbar-title",[t._v(" Viaje finalizado")])],1),a("v-card-text",[a("h1",[t._v(t._s(t.conductor))]),a("v-text-field",{attrs:{label:"Escribe como fue tu experiencia en el viaje",placeholder:"Feedback"},model:{value:t.feedback,callback:function(e){t.feedback=e},expression:"feedback"}}),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.errorM)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.enviarFeedback()}}},[t._v("Enviar")])],1)],1)],1)],1)],1)},_t=[],Vt={name:"pasajeroViajeFinalizado",props:{},data:function(){return{conductor:"Viaje finalizado",theUser:"",feedback:""}},methods:{enviarFeedback:function(){var t=this,e={feedbackCliente:this.feedback,idHistorialRuta:this.$store.state.idHistorial,estadoViaje:"2"};console.log(e),z()({url:"historialruta/pasajero/feedback",data:e,method:"POST"}).then((function(e){console.log(e.data),t.$router.push("/pasajerosolicitarviaje")})).catch((function(t){console.log(t)}))}},mounted:function(){}},jt=Vt,kt=(a("03e4"),Object(s["a"])(jt,gt,_t,!1,null,"72b5e6e5",null)),Ct=kt.exports;u()(kt,{VBtn:h["a"],VCard:E["a"],VCardActions:H["a"],VCardText:H["b"],VFlex:A["a"],VLayout:q["a"],VTextField:B["a"],VToolbar:N["a"],VToolbarTitle:$["a"]});var Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"black darken-3"}},[a("v-toolbar-title",[t._v(" Viaje cancelado")])],1),a("v-card-text",[a("h1",[t._v(t._s(t.conductor))]),a("v-text-field",{attrs:{label:"Regular",placeholder:"Placeholder"},model:{value:t.feedback,callback:function(e){t.feedback=e},expression:"feedback"}}),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.errorM)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.enviarFeedback()}}},[t._v("Enviar")])],1)],1)],1)],1)],1)},yt=[],$t={name:"pasajeroViajeCancelado",props:{},data:function(){return{conductor:"Viaje cancelado",theUser:"",feedback:""}},methods:{enviarFeedback:function(){var t=this,e={feedbackCliente:this.feedback,idHistorialRuta:this.$store.state.idHistorial,estadoViaje:"3"};z()({url:"historialruta/pasajero/feedback",data:e,method:"POST"}).then((function(e){console.log(e.data),t.$router.push("/pasajerosolicitarviaje")})).catch((function(t){console.log(t)}))}},mounted:function(){}},St=$t,Ot=(a("0d20"),Object(s["a"])(St,Tt,yt,!1,null,"09f787fc",null)),Pt=Ot.exports;u()(Ot,{VBtn:h["a"],VCard:E["a"],VCardActions:H["a"],VCardText:H["b"],VFlex:A["a"],VLayout:q["a"],VTextField:B["a"],VToolbar:N["a"],VToolbarTitle:$["a"]});var It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"black darken-3"}},[a("v-toolbar-title",[t._v(" Viaje cancelado")])],1),a("v-card-text",[a("h1",[t._v(t._s(t.conductor))]),a("v-text-field",{attrs:{label:"Regular",placeholder:"Placeholder"},model:{value:t.feedback,callback:function(e){t.feedback=e},expression:"feedback"}}),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.errorM)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.enviarFeedback()}}},[t._v("Enviar")])],1)],1)],1)],1)],1)},Dt=[],wt={name:"conductorViajeCancelado",props:{},data:function(){return{conductor:"Viaje cancelado",theUser:"",feedback:""}},methods:{enviarFeedback:function(){var t=this,e={feedbackConductor:this.feedback,idHistorialRuta:this.$store.state.idHistorial,estadoViaje:"3"};z()({url:"historialruta/conductor/feedback",data:e,method:"POST"}).then((function(e){console.log(e.data),t.$router.push("/buscarpasajero")})).catch((function(t){console.log(t)}))}},mounted:function(){}},Ft=wt,Ut=(a("521e"),Object(s["a"])(Ft,It,Dt,!1,null,"da6abe58",null)),Lt=Ut.exports;u()(Ut,{VBtn:h["a"],VCard:E["a"],VCardActions:H["a"],VCardText:H["b"],VFlex:A["a"],VLayout:q["a"],VTextField:B["a"],VToolbar:N["a"],VToolbarTitle:$["a"]});var zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"black darken-3"}},[a("v-toolbar-title",[t._v(" Viaje finalizado")])],1),a("v-card-text",[a("h1",[t._v(t._s(t.conductor))]),a("v-text-field",{attrs:{label:"Escribe como fue tu experiencia en el viaje",placeholder:"Feedback"},model:{value:t.feedback,callback:function(e){t.feedback=e},expression:"feedback"}}),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.errorM)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.enviarFeedback()}}},[t._v("Enviar")])],1)],1)],1)],1)],1)},Mt=[],Rt={name:"conductorViajeFinalizado",props:{},data:function(){return{conductor:"Viaje finalizado",theUser:"",feedback:""}},methods:{enviarFeedback:function(){var t=this,e={feedbackConductor:this.feedback,idHistorialRuta:this.$store.state.idHistorial,estadoViaje:"2"};console.log(e),z()({url:"historialruta/conductor/feedback",data:e,method:"POST"}).then((function(e){console.log(e.data),t.$router.push("/buscarpasajero")})).catch((function(t){console.log(t)}))}},mounted:function(){}},Et=Rt,Ht=(a("aa2b"),Object(s["a"])(Et,zt,Mt,!1,null,"3722babb",null)),At=Ht.exports;u()(Ht,{VBtn:h["a"],VCard:E["a"],VCardActions:H["a"],VCardText:H["b"],VFlex:A["a"],VLayout:q["a"],VTextField:B["a"],VToolbar:N["a"],VToolbarTitle:$["a"]});var qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"black darken-3"}},[a("v-toolbar-title",[t._v(" Datos pasajero ")])],1),a("v-card-text",[a("h1",[t._v(t._s(t.conductor))]),a("h2",[t._v("Nombre: "+t._s(t.datosUsuario.idPasajero.nombre))]),a("h2",[t._v("Correo: "+t._s(t.datosUsuario.idPasajero.correo))]),a("h2",[t._v("Teléfono: "+t._s(t.datosUsuario.idPasajero.telefono))]),a("h2",[t._v("Documento identidad: "+t._s(t.datosUsuario.idPasajero.numeroDocumentoIdentidad))]),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.errorM)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.cancelarViaje()}}},[t._v("Cancelar viaje")])],1),a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.viajeFinalizado()}}},[t._v("Viaje finalizado")])],1)],1)],1)],1)],1)},Bt=[],Nt={name:"pasajeroViaje",props:{},data:function(){return{conductor:"Viaje aceptado, apresúrate",theUser:"",datosUsuario:[],timer:null,recarga:1}},methods:{refrescar:function(){var t=this,e={historialId:this.$store.state.idHistorial};z()({url:"historialruta/refrescarpasajero",data:e,method:"POST"}).then((function(e){console.log(e.data),t.datosUsuario=e.data.historial,t.$store.dispatch("guardarIdHistorial",e.data.historial._id),2==t.datosUsuario.estadoViaje?t.$router.push("conductor/viajefinalizado"):3==t.datosUsuario.estadoViaje&&t.$router.push("conductor/viajecancelado")})).catch((function(t){console.log(t)}))},viajeFinalizado:function(){this.$router.push("conductor/viajefinalizado")},cancelarViaje:function(){this.$router.push("conductor/viajecancelado")}},mounted:function(){var t=this;this.timer=setInterval((function(){1==t.recarga&&t.refrescar()}),4e3)},beforeDestroy:function(){clearInterval(this.timer)}},Jt=Nt,Gt=(a("a3e6"),Object(s["a"])(Jt,qt,Bt,!1,null,"7a5c5a1c",null)),Yt=Gt.exports;u()(Gt,{VBtn:h["a"],VCard:E["a"],VCardActions:H["a"],VCardText:H["b"],VFlex:A["a"],VLayout:q["a"],VToolbar:N["a"],VToolbarTitle:$["a"]});var Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"black darken-3"}},[a("v-toolbar-title",[t._v(" Solicitar viaje ")])],1),a("v-card-text",[a("h1",[t._v("Datos conductor")]),a("h2",[t._v("Nombre conductor: "+t._s(t.historialRefrescar.idConductor.nombre))]),a("h2",[t._v("Teléfono: "+t._s(t.historialRefrescar.idConductor.telefono))]),a("h2",[t._v("Modelo vehículo: "+t._s(t.historialRefrescar.idConductor.modeloVehiculo))]),a("h2",[t._v("Placas: "+t._s(t.historialRefrescar.idConductor.placaVehiculo))]),a("h2",[t._v("ID conducción: "+t._s(t.historialRefrescar.idConductor.idLicenciaConduccion))]),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.errorM)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.cancelarViaje()}}},[t._v("Cancelar viaje")])],1),a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{on:{click:function(e){return t.viajeFinalizado()}}},[t._v("Viaje finalizado")])],1)],1)],1)],1)],1)},Qt=[],Wt={name:"pasajeroAceptadoConductor",props:{},data:function(){return{conductor:"Esperando conductor...",theUser:"",historialRefrescar:[],mostrar:0,timer:null,recarga:1}},methods:{refrescar:function(){var t=this;console.log("imprimiendo historial "+this.$store.state.idHistorial),z()({url:"historialruta/refrescarconductor/"+this.$store.state.idHistorial,method:"POST"}).then((function(e){console.log(e.data),t.historialRefrescar=e.data.historial,console.log(t.historialRefrescar),2==t.historialRefrescar.estadoViaje?t.$router.push("pasajero/viajefinalizado"):3==t.historialRefrescar.estadoViaje&&t.$router.push("pasajero/viajecancelado")})).catch((function(t){console.log(t)}))},viajeFinalizado:function(){this.$router.push("pasajero/viajefinalizado")},cancelarViaje:function(){this.$router.push("pasajero/viajecancelado")}},mounted:function(){var t=this;this.timer=setInterval((function(){t.refrescar()}),4e3)},beforeDestroy:function(){clearInterval(this.timer)}},Xt=Wt,Zt=(a("4c05"),Object(s["a"])(Xt,Kt,Qt,!1,null,"c18968c6",null)),te=Zt.exports;u()(Zt,{VBtn:h["a"],VCard:E["a"],VCardActions:H["a"],VCardText:H["b"],VFlex:A["a"],VLayout:q["a"],VToolbar:N["a"],VToolbarTitle:$["a"]});var ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm10:"",md10:"",lg7:"",xl4:""}},[a("v-card",[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Nombre")]),a("th",{staticClass:"text-left"},[t._v("Direccion origen")]),a("th",{staticClass:"text-left"},[t._v("Direccion destino")]),a("th",{staticClass:"text-left"},[t._v("Dinero ofertado")])])]),a("tbody",t._l(t.historial,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.idPasajero.nombre))]),a("td",[t._v(t._s(e.lugarOrigen))]),a("td",[t._v(t._s(e.lugarDestino))]),a("td",[t._v(t._s(e.dineroPagado))])])})),0)]},proxy:!0}])})],1)],1)],1)},ae=[],oe={name:"historialPasajero",props:{},data:function(){return{theUser:"",historial:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this,e={idPasajero:this.$store.state.theUser};z()({url:"/historialruta/historialpasajero",method:"POST",data:e}).then((function(e){console.log(e.data),t.historial=e.data.historial})).catch((function(t){console.log(t)}))}}},re=oe,ie=(a("f0e6"),Object(s["a"])(re,ee,ae,!1,null,"43a4d1a4",null)),ne=ie.exports;u()(ie,{VCard:E["a"],VFlex:A["a"],VLayout:q["a"],VSimpleTable:mt["a"]}),o["a"].config.productionTip=!1,z.a.defaults.baseURL="https://uberpro.herokuapp.com/api/",o["a"].use(w["a"]);var ce=[{path:"/",redirect:"/login"},{path:"/login",component:G},{path:"/registro",component:Z},{path:"/pasajerosolicitarviaje",component:it},{path:"/buscarconductor",component:dt},{path:"/buscarpasajero",component:xt},{path:"/pasajeroenviaje",component:te},{path:"/conductorenviaje",component:Yt},{path:"/pasajero/viajefinalizado",component:Ct},{path:"/pasajero/viajecancelado",component:Pt},{path:"/conductor/viajecancelado",component:Lt},{path:"/conductor/viajefinalizado",component:At},{path:"/historialpasajero",component:ne}],se=new w["a"]({mode:"history",routes:ce});o["a"].use(D["a"]);var le=new D["a"].Store({state:{token:null,theUser:null,idHistorial:null},mutations:{setToken:function(t,e){t.token=e},setUsuario:function(t,e){t.theUser=e},setIdHistorial:function(t,e){t.idHistorial=e}},actions:{guardarToken:function(t,e){var a=t.commit;console.log("data"),console.log(e.token),a("setToken",e.token),a("setUsuario",e.theUser),localStorage.setItem("token",e.token)},autoLogin:function(t){var e=t.commit,a=localStorage.getItem("token");a&&e("setToken",a),se.push("/")},salir:function(t){var e=t.commit;e("setToken",null),e("setUsuario",null),localStorage.removeItem("token"),se.push("/login")},guardarIdHistorial:function(t,e){var a=t.commit;a("setIdHistorial",e)}},modules:{}});new o["a"]({vuetify:I,router:se,store:le,render:function(t){return t(O)}}).$mount("#app")},"5ca4":function(t,e,a){},7878:function(t,e,a){},"800b":function(t,e,a){},"85ec":function(t,e,a){},8647:function(t,e,a){"use strict";a("14e8")},"8eff":function(t,e,a){},a3e6:function(t,e,a){"use strict";a("5641")},aa2b:function(t,e,a){"use strict";a("5ca4")},b022:function(t,e,a){"use strict";a("221b")},cdcb:function(t,e,a){"use strict";a("da3f")},da3f:function(t,e,a){},efe4:function(t,e,a){},f0e6:function(t,e,a){"use strict";a("8eff")},f778:function(t,e,a){"use strict";a("3ba5")}});
//# sourceMappingURL=app.1aa241be.js.map